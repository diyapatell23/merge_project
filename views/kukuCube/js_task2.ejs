<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Task 2</title>

    <style>
        table {
            margin: 50px auto;
        }

        tr {
            height: 50px;
        }

        td {
            padding: 30px;
            border-radius:10px;
        }

        #td1 {
            background-color: rgb(204, 201, 201);
        }

        #td2,
        #td3,
        #td4 {
            background-color: rgb(184, 169, 169);
        }

        .container {
            width: 100%;
            display: flex;
            justify-content: space-evenly;
            margin-top: 50px;
        }

        #btn1 {
            width: 2%;
            height: 27px;
            color: black;
        }
        p{
            text-align: center;
            font-size: 25px;
            margin-top: 50px;
        }
        #pause,
        #start{
            width: 80px;
            height: 35px;
        }
    </style>


</head>

<body >
    <p>Diya Patel(24DEV069)&nbsp;02/02/2024 </p>
    <p>Kuku Cube</p>
    <div class="container">
        <button id="start" onclick="timer()">start</button>
        <span id="score"></span>
        <span id="btn1"></span>
        <input type="button" value="Pause" id="pause">
    </div>

    <table  cellspacing="0" cellpadding="0" id="table">
        <tr>
            <td id="td1" onclick="myFun()"></td>
            <td id="td2"></td>
        </tr>
        <tr>
            <td id="td3"></td>
            <td id="td4"></td>
        </tr>
    </table>

    <script>
        let count = 0;
        function myFun() {
            //insert row
            let table1 = document.getElementById("table");
            let a = table1.rows.length;
            let row = table.insertRow(a);
            let cell = table1.rows[0].cells.length;
            for (let i = 0; i < cell; i++) {
                let cell_plus = row.insertCell(i);
            }

            //insert column
            for (let j = 0; j < table1.rows.length; j++) {
                let column = table1.rows[j].insertCell(cell);
            }

            //random color
            let total = (table1.rows.length) * (table1.rows[0].cells.length);
            let var1 = document.getElementsByTagName('td');
            const randomColor = Math.floor(Math.random() * 16777215).toString(16);
            for (let i = 0; i < total; i++){
                var1[i].style.backgroundColor = "#" + randomColor;
                var1[i].style.opacity = "1";
            }

            //random number
            let cells = document.getElementById("table").getElementsByTagName('td');
            let random_number = Math.floor(Math.random() * (total - 4) + 4);
            cells[random_number].style.opacity = "0.5";

            cells[random_number].addEventListener("click", myFun);

            score();
        }

        function score(){
            count++;
            console.log(count);
            let table1 = document.getElementById("table");
            let total = (table1.rows.length) * (table1.rows[0].cells.length);
            let random_number = Math.floor(Math.random() * (total - 4) + 4);
            document.getElementById("score").innerHTML = "score : " +count;
            let cells = document.getElementById("table").getElementsByTagName('td');
            let countDisplay = document.getElementById("score");
            cells[random_number].addEventListener("click", function () {
                countDisplay.innerHTML = count; 
            });
        }

        function timer(){
            console.log("timee")
            let sec = 10;
            let timer = setInterval(function () {
                document.getElementById('btn1').innerHTML = '00:' + sec;
                sec--;
                if (sec < 0) {
                    alert("Game Over!!");
                    clearInterval(timer);
                    window.location.reload();
                }
            }, 1000);

            const pauseButton = document.querySelector('#pause');
            pauseButton.disabled = false;

            pauseButton.addEventListener('click', () => {
                pauseButton.disabled = true;
                clearInterval(timer);
                alert("Game Paused!!")
            })
        }
    </script>
</body>
</html>